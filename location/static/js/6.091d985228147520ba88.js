webpackJsonp([6],{"0llS":function(t,e){},"2TqE":function(t,e){},Odeh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("Dd8w"),c=n.n(o),a=n("R4Sj"),s={props:["type","selectAccount"],data:function(){return{btns:{comfirm:"确定",cancel:"取消"},accountInfo:{administratorName:"",administratorAccount:""}}},components:{MessageBox:n("7en9").a},methods:{changeAccount:function(t){this.selectAccount?this.$emit("editorAccount",t,this.accountInfo):this.$emit("addAccount",t,this.accountInfo)}},created:function(){}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("message-box",{attrs:{type:t.type,btns:t.btns},on:{closeMessageBox:t.changeAccount}},[n("el-main",[n("el-row",[n("label",[t._v("姓名")]),t._v(" "),n("el-input",{attrs:{placeholder:"请输入姓名",disabled:t.selectAccount&&!0},model:{value:t.accountInfo.administratorName,callback:function(e){t.$set(t.accountInfo,"administratorName",e)},expression:"accountInfo.administratorName"}})],1),t._v(" "),n("el-row",[n("label",[t._v("电话号码")]),t._v(" "),n("el-input",{attrs:{placeholder:"电话号码"},model:{value:t.accountInfo.administratorAccount,callback:function(e){t.$set(t.accountInfo,"administratorAccount",e)},expression:"accountInfo.administratorAccount"}})],1)],1)],1)},staticRenderFns:[]};var r={data:function(){return{accounts:[],type:{add:"新增子账号",editor:"修改子账号",resetPassword:"修改密码"},isShowAddAccount:!1,isShowEditorAccount:!1,isShowResetPassword:!1,selectAccount:{idnex:"",row:[]},resetAccount:{index:"",row:[]}}},components:{ChangeAccount:n("VU/8")(s,i,!1,function(t){n("0llS")},"data-v-a352558e",null).exports},computed:c()({},Object(a.b)(["getUser"])),methods:{handleAddAccount:function(){this.isShowAddAccount=!0},addAccount:function(t,e){var n=this;if(t){for(var o in e)if(!e[o])return this.$message({showClose:!0,message:"信息不能为空",type:"error"});var c={administratorName:e.administratorName,administratorAccount:e.administratorAccount};this.$http.get(config.httpBaseUrl+"/admin/insertAdmin",{params:c}).then(function(t){200===t.code&&(n.accounts.push(e),n.$message({showClose:!0,type:"success",message:"新增账号成功!"}))})}this.isShowAddAccount=!1},handleDelAccount:function(t,e){var n=this;this.$confirm("此操作将永久删除该"+t+"的账号信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var o={acne:t};n.$http.get(config.httpBaseUrl+"/admin/deleteAdmin",{params:o}).then(function(t){200===t.code&&(n.accounts.splice(e,1),n.$message({showClose:!0,type:"success",message:"删除成功!"}))})}).catch(function(){n.$message({showClose:!0,type:"info",message:"已取消删除"})})},tableRowStyle:function(t,e){return"background-color: black;"},tableHeaderColor:function(t){t.row,t.column;var e=t.rowIndex;t.columnIndex;if(0===e)return"background-color: black; color: white"},handleResetPassword:function(t,e){var n=this;this.$confirm("此操作将重置该账号密码, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={acne:t.administratorAccount};n.$http.get(config.httpBaseUrl+"/admin/updateAdmin",{params:e}).then(function(t){200===t.code&&n.$message({showClose:!0,type:"success",message:"重置密码成功!"})})}).catch(function(){n.$message({type:"info",message:"取消重置密码"})})}},mounted:function(){var t=this;this.$http.get(config.httpBaseUrl+"/admin/getAllaAdmin").then(function(e){t.accounts=e.date.administrators})}},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"AccountManagement"},[o("el-header",[o("div",{staticClass:"legends"},[o("span",{on:{click:t.handleAddAccount}},[o("img",{attrs:{src:n("L6uk"),alt:""}}),t._v("\n        新增\n      ")])])]),t._v(" "),o("el-main",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.accounts,border:"","row-style":t.tableRowStyle,"header-cell-style":t.tableHeaderColor,size:"mini"}},[o("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),o("el-table-column",{attrs:{prop:"administratorName",label:"姓名",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{prop:"administratorAccount",label:"电话号码",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleDelAccount(e.row.administratorAccount,e.$index)}}},[t._v("删除")]),t._v(" "),o("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleResetPassword(e.row,e.$index)}}},[t._v("重置密码")])]}}])})],1)],1),t._v(" "),t.isShowAddAccount?o("change-account",{attrs:{type:t.type.add},on:{addAccount:t.addAccount}}):t._e(),t._v(" "),t.isShowEditorAccount?o("change-account",{attrs:{type:t.type.editor,selectAccount:t.selectAccount.row},on:{editorAccount:t.editorAccount}}):t._e()],1)},staticRenderFns:[]};var l=n("VU/8")(r,u,!1,function(t){n("2TqE")},"data-v-3db7a870",null);e.default=l.exports}});
//# sourceMappingURL=6.091d985228147520ba88.js.map